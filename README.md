This repository demonstrates a common SQL error involving the use of aliased columns from subqueries within aggregate functions in the outer query. The `bug.sql` file contains the erroneous SQL query, while `bugSolution.sql` provides the corrected version. The issue arises from the database's processing order and the inability to resolve the alias before its usage in the outer query's aggregate function.  The solution involves either repeating the aggregate function or using a common table expression (CTE).